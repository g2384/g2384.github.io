<!-- adapted from http://conv.alf.nu/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=GBK"><script>
function sweet(f) {
  f.sweet = 1;
  return f;
};
var cache = window.localStorage || {};
function ask(query, f) {
  if (query in cache) return f(cache[query]);
  var xh = new XMLHttpRequest();
  xh.open('GET', '/:::?'+encodeURI(query));
  xh.onreadystatechange = function() {
    if (this.readyState == this.DONE) {
      var v = JSON.parse(this.responseText);
      cache[query] = v;
      f(v);
    }
  };
  xh.send();  
}
function wrap(a,b) {
  return function(x) {
    return a+x+b;
  };
 }
function base(a,b) {
  return function(x) {
    x = parseInt(x, a);
    if (isNaN(x)) throw x;
    return x.toString(b);
  };
}

function chr(x) {
  x = Math.floor(x);
  if (x < 0 || x>0x10ffff || x != x) throw 'not in range';
  var s = new String(String.fromCharCode(x));
  s.extra = 'unicode:'+x;
  return s;
}
function ord(x) {
  if(x.length === 1) {
    var n = x.charCodeAt(0);
    var v = new String(n);
    v.extra = 'unicode:'+n;
    return v;
  }
}
function always(x) {
  return function() {
    return x;
  };
}
function match(rex) {
  return function(s) {
     return rex.test(s);
  };
}
function replace(a,b) {
  return function(s) {
    return s.replace(a,b);
  };
}
Function.prototype.then = function(f) {
  var g = this;
  return function(x) {
    return f(g(x));
  };
};
function above(i) {
  if (i<128) throw i;
  return match(new RegExp('['+String.fromCharCode(i)+'-\uffff]'));
}
function not(f) {
  return function() {
    return !f.apply(this, arguments);
  };
}
Function.prototype.and = function(right) {
  var left = this;
  return function() {
    return left.apply(this,arguments) && right.apply(this,arguments);
  };
};

var oneChar = /^(?:[\u0000-\ud7fff\ue000-\uffff]|[\ud800-\udbff][\udc00-\udfff])$/,
  matchChars = /(?:[\u0000-\ud7fff\ue000-\uffff]|[\ud800-\udbff][\udc00-\udfff])/g,
  onlyChars = /^(?:[\u0000-\ud7fff\ue000-\uffff]|[\ud800-\udbff][\udc00-\udfff])+$/g;

var pass = always(true);
var eightBitSafe = not(above(256));
var ascii = not(above(128));
var latin = eightBitSafe.and(not(ascii));

var utf8 = encodeURIComponent.then(unescape);
var untf8 = escape.then(decodeURIComponent);

var things = [];
function oneway(name, before, func, after) {
  things.push({name:name, before:before, func:func, after:after||pass});
}
function encoding(name, checkPlain, add, checkEncoded, remove, bname) {
  oneway(bname ? name : 'To '+name, checkPlain, add, checkEncoded);
  if (remove)
    oneway(bname || 'From '+name, checkEncoded, remove, checkPlain);
}

encoding('Decimal to hex', 
         match(/^-?[0-9]+$/), base(10,16), 
         match(/^-?(?:0x)?[0-9a-f]+$/i), base(16,10), 'Hex to decimal');
encoding('Decimal to octal', 
         match(/^-?[0-7]+$/), base(10,8), 
         match(/^-?[0-9a-f]+$/i), base(8,10), 'Octal to decimal');
encoding('Binary to decimal', 
         match(/^[01]+/), base(2,10), 
         match(/^\d+$/i), base(10,2), 'Decimal to binary');
encoding('Binary to hex', 
         match(/^[01]+/), base(2,16), 
         match(/^-?(?:0x)?[0-9a-f]+$/i), base(16,2), 'Hex to binary');

encoding('Unicode codepoint (from hex)',
         match(/^(?:0x|U\+)?[0-9a-f]+$/i), replace(/^U\+/,'').then(base(16,10).then(chr)),
         match(oneChar), ord.then(base(10,16)),
         'Unicode codepoint (to hex)');
encoding('Unicode codepoint (from decimal)',
         match(/^\d+/i), chr,
         match(oneChar), ord,
         'Unicode codepoint (to decimal)');

function withplus(name, s1, f1, s2, f2) {
  encoding('URL/%-encoding ('+name+')', s1, f1, s2, f2);
  encoding('URL/%-encoding ('+name+', "+" is space)', 
         s1.and(match(/[ +]/)),
         f1.then(replace(/\+/g, '%2b')).then(replace(/%20/g, '+')),
         s2.and(match(/%2[0bB]|\+/)),
         replace(/\+/g, ' ').then(f2));
}
withplus('only ASCII', ascii, escape, pass, unescape);
withplus('raw bytes mapped as Latin-1', latin, escape, pass, unescape);
withplus('Unicode with UTF-8', not(ascii), encodeURIComponent, pass, decodeURIComponent);
withplus('Unicode with UTF-16', pass, escape, match(/%u/i), unescape);
encoding('UTF8-encoding', not(ascii), utf8, latin, untf8);
function JSON_parse(s) {
  try { return JSON.parse(s);
  }catch(_) {
    return JSON.parse((""+s).replace(/\\x(..)|(\\.)/g, 
                          function(s,a,b) {
                            return a ? "\\u00"+a : b;
                                     }));
  }
}
encoding('To JSON string', ascii, 
         function(x) {
           var y = JSON.stringify(x);
           return y != '"'+x+'"' && y;
         }, match(/^\"/), JSON_parse,
         'From JSON string');
encoding('To JSON string', not(ascii), 
         function(x) {
           var y = JSON.stringify(x);
           y = y.replace(/[\u0080-\uffff]/g, function(ch) {
               var s = "0000" + ch.charCodeAt(0).toString(16);
               return "\\u" + s.substring(s.length-4);
             });
           return y != '"'+x+'"' && y;
         }, match(/^\"/), sweet(JSON_parse),
         'From JSON string');
oneway('From JSON string (no quotes)', pass, 
       sweet(function(x) {
         return JSON_parse('"'+x+'"'); 
         }));
oneway('Generic unbackslash', pass,
       sweet(function(x) {
         var s = x.replace(/\\x([0-9a-f]{2})|\\u([0-9a-f]{4})|\\([0-9]{1,3})|\\([bfnrtu])|\\(.)/g, function(all,a,b,c,d,e) {
             return a ? String.fromCharCode(parseInt(a, 16)) :
                    b ? String.fromCharCode(parseInt(b, 16)) :
                    c ? String.fromCharCode(parseInt(b, 8)) :
                    d ? JSON.parse('"'+all+'"') : e;
           });
         try {
           if (s === JSON.parse('"'+x+'"')) return;
         }catch(_) {}
         return s;
         }));
encoding('Base-64', eightBitSafe, btoa, pass, atob);
var toHex = function(ch) {
  var c = base(10,16)(ord(ch));
  while (c.length&1) c = '0'+c;
  return c+' ';
};
var toHexByte = replace(/[\s\S]/g, toHex);
var toHexChar = replace(matchChars, toHex);
function byteEncoding(name, enc, after, dec) {
  encoding(name+' (ASCII)', ascii, enc, after, dec);
  encoding(name+' (raw/Latin-1)', latin, enc, after, dec);
  encoding(name+' (UTF-8)', not(ascii), utf8.then(enc), after, dec && dec.then(untf8));
}
function unhex(s) {
  var z = s.match(/[0-9a-f]{2}/gi);
  var res = [];
  for (var i=0;i<z.length;i++) res.push(String.fromCharCode(parseInt(z[i], 16)));
  return res.join(''); 
}
byteEncoding('MD5', function(s) {
    return window.faultylabs && faultylabs.MD5(''+s);
  }, pass);
oneway('MD5', 
         match(/^[0-9a-f]{32}$/i),
         function(s) {
           return N('a', {href:'http://md5.thekaine.de/?hash='+s, innerText:'Lookup'});
         });
byteEncoding('Hex', toHexByte, match(/^(?:\s+|[0-9a-f]{2})+$/i), sweet(unhex));
encoding('Hex (Unicode codepoints)', not(eightBitSafe).and(not(match(oneChar))), toHexChar, pass);
encoding('HTML escapes', 
         pass, 
         function(s) {  var x = document.createElement('span'); x.innerText = s; return x.innerHTML; },
         pass,
         sweet(function(s) {  var x = document.createElement('span'); x.innerHTML = s; return x.innerText; }));

byteEncoding('Quoted-Printable',
             replace(/ (?=[\r\n])|=|[^ -~]/g, function(m) {
                 var x = '0' + m.charCodeAt(0).toString(16).toUpperCase();
                 return '='+x.substring(x.length-2);
               }),
             match(/=/),
             replace(/=(?:(\r\n?|\n)|([0-9A-F]{2})|(.))/ig, function(_, nl, hex, bad) {
                 if (bad) throw 0;
                 return nl ? '' : String.fromCharCode(parseInt(hex,16));
               }));
encoding('RFC 2047 mail header',
         pass,
         replace(/=\?(?:(iso-8859-1)|(utf-8))\?(?:(q)|(b))\?(.+?)\?=/gi,
                 function(_, iso, utf, quote, base, text) {
                   if (quote) text = text.replace(/=([0-9a-f]{2})/ig, 
                                                  function(_, s) { return String.fromCharCode(parseInt(s, 16)); });
                   if (base) text = atob(base);
                   if (utf) text = decodeURI(escape(text));
                   return text;
                 }),
         pass);

encoding('URL', match(/^(https?|data):/),
         function(x) { return N('a', {href:x, innerText:'Click me'}); },
         pass);
encoding('Image', match(/^data:image/),
         function(x) { return N('img', {src:x}) },
         pass);

function mul(x) { return function(y) { return x*y; }; }
function range(a,b) { return function(y) {  return y >= a && y < b; } };
function stamp2str(d) { return new Date(+d).toString(); }
function str2stamp(s) { return new Date(''+s).getTime(); }
encoding('Timestamp (milliseconds)', pass, str2stamp, range(4e9, 4e12), stamp2str);
encoding('Timestamp (seconds)', pass, str2stamp.then(mul(1e-3)), range(4e6, 4e9), mul(1e3).then(stamp2str));
var pscale = 1000/0x100000;
encoding('Timestamp (PHP uniqid)', pass, str2stamp.then(mul(1/pscale)).then(base(10,16)), match(/^[34][0-9a-f]{12}$/), base(16,10).then(mul(pscale)).then(stamp2str));
things.sort(function(a,b) {
    return a.name<b.name ? -1 : a.name === b.name ? 0 : 1;
  });                 
         

function test(thing, input) {
  try {
    if (!thing.before(input)) throw '-';
    var out = thing.func.call(window, input);
    if (out === undefined || out === false) throw ''+out;
    if (out.nodeType) return ['ok', out];
    if (!(out instanceof String)) out = '' + out;
    if (!thing.after(out)) throw '-';
    return [out === input ? 'same' : 'ok', out];
  } catch (x) {
    return ['meh', x];
  }
}
function N(x,p,cs) { 
  var e = document.createElement(x); 
  if (p) for(var k in p) e[k]=p[k];
  if (cs) cs.map(function(c) { e.appendChild(c); });
  return e; 
}
function x() {
  var val = document.getElementById('t').value;
  var out = document.getElementById('output');
  out.innerHTML = '';
  dump(val, 0);
  function dump(val, level) {
    things.map(function(t) {
               var res = test(t,val);
               if (res[0] === 'ok') {
                 var text = res[1];
                 function copy() {
                   var tf = document.getElementById('t');
                   tf.value = text;
                   tf.focus(); tf.select();
                   x();
                 }
                 var field =
                   text && text.nodeType ? text :
                   text.match(/[\r\n]+/g) ?
                   N('textarea', {rows:7, cols:70, value:text}) :
                   N('input', {size:Math.max(40, res[1].length), value:text});
                 out.appendChild(
                   N('tr', {},
                     [N('td', {className:res[0]+' copy lev'+level, innerText:t.name, onclick:copy}),
                      N('td', {}, [field])]));
                 if (text.extra) {
                   var place;
                   out.appendChild(
                     N('tr', {className:'extra'},
                       [N('td'),
                        place = N('td', {})]));
                   ask(text.extra, function(s) {
                         place.innerText = s;
                       });
                 }
                 if (level == 0 && t.func.sweet) dump(text, level+1);
               }
             });
  }
}
function y(obj) {
  document.all.t.value = obj.value;
  x();
  document.all.t.focus();
  document.all.t.select();
}
</script><style type="text/css">
textarea { font-size:200%; }
td.copy:hover { cursor:hand; color:#999; }</style>
<title>Convertulator</title>
</head><body onload="x()">
<textarea rows="3" id="t" onkeyup="x()" onchange="x()" placeholder="Type something"></textarea>
<table id="output"><tr><td class="ok copy">To MD5 (ASCII)</td><td><input size="40"></td></tr></table>
<script>// MD5.js http://blog.faultylabs.com/files/md5.js from: Luigi Galli
if(typeof faultylabs=='undefined')faultylabs={};faultylabs.MD5=function(a){function b(r){var s=(r>>>0).toString(16);return "00000000".substr(0,8-s.length)+s;}function c(r){var s=[];for(var t=0;t<r.length;t++)s=s.concat(k(r[t]));return s;}function d(r){var s=[];for(var t=0;t<8;t++){s.push(r&255);r=r>>>8;}return s;}function e(r,s){return ((r<<s)&4294967295)|(r>>>(32-s));}function f(r,s,t){return (r&s)|(~r&t);}function g(r,s,t){return (t&r)|(~t&s);}function h(r,s,t){return r^s^t;}function i(r,s,t){return s^(r|~t);}function j(r,s){return (r[s+3]<<24)|(r[s+2]<<16)|(r[s+1]<<8)|(r[s]);}function k(r){var s=[];for(var t=0;t<r.length;t++)if(r.charCodeAt(t)<=127){s.push(r.charCodeAt(t));}else{var u=encodeURIComponent(r.charAt(t)).substr(1).split('%');for(var v=0;v<u.length;v++)s.push(parseInt(u[v],16));}return s;}function l(r,s,t,u){var v="",w=0,x=0;for(var y=3;y>=0;y--){x=arguments[y];w=(x&255);x=x>>>8;w=w<<8;w=w|(x&255);x=x>>>8;w=w<<8;w=w|(x&255);x=x>>>8;w=w<<8;w=w|x;v=v+b(w);}return v;}function m(r){var s=new Array(r.length);for(var t=0;t<r.length;t++)s[t]=r[t];return s;}var n=null,o=null;if(typeof a=='string'){n=k(a);}else if(a.constructor==Array){if(a.length===0){n=a;}else if(typeof a[0]=='string'){n=c(a);}else if(typeof a[0]=='number'){n=a;}else o=typeof a[0];}else if(typeof ArrayBuffer!='undefined'){if(a instanceof ArrayBuffer){n=m(new Uint8Array(a));}else if((a instanceof Uint8Array)||(a instanceof Int8Array)){n=m(a);}else if((a instanceof Uint32Array)||(a instanceof Int32Array)||(a instanceof Uint16Array)||(a instanceof Int16Array)||(a instanceof Float32Array)||(a instanceof Float64Array)){n=m(new Uint8Array(a.buffer));}else o=typeof a;}else o=typeof a;if(o)alert('MD5 type mismatch, cannot process '+o);function p(r,s){return 4294967295&(r+s);}return q();function q(){function r(ea,fa,ga,ha){var ia=ca;ca=ba;ba=aa;aa=p(aa,e(p(z,p(ea,p(fa,ga))),ha));z=ia;}var s=n.length;n.push(128);var t=n.length%64;if(t>56){for(var u=0;u<(64-t);u++)n.push(0);t=n.length%64;}for(u=0;u<(56-t);u++)n.push(0);n=n.concat(d(s*8));var v=1732584193,w=4023233417,x=2562383102,y=271733878,z=0,aa=0,ba=0,ca=0;for(u=0;u<n.length/64;u++){z=v;aa=w;ba=x;ca=y;var da=u*64;r(f(aa,ba,ca),3614090360,j(n,da),7);r(f(aa,ba,ca),3905402710,j(n,da+4),12);r(f(aa,ba,ca),606105819,j(n,da+8),17);r(f(aa,ba,ca),3250441966,j(n,da+12),22);r(f(aa,ba,ca),4118548399,j(n,da+16),7);r(f(aa,ba,ca),1200080426,j(n,da+20),12);r(f(aa,ba,ca),2821735955,j(n,da+24),17);r(f(aa,ba,ca),4249261313,j(n,da+28),22);r(f(aa,ba,ca),1770035416,j(n,da+32),7);r(f(aa,ba,ca),2336552879,j(n,da+36),12);r(f(aa,ba,ca),4294925233,j(n,da+40),17);r(f(aa,ba,ca),2304563134,j(n,da+44),22);r(f(aa,ba,ca),1804603682,j(n,da+48),7);r(f(aa,ba,ca),4254626195,j(n,da+52),12);r(f(aa,ba,ca),2792965006,j(n,da+56),17);r(f(aa,ba,ca),1236535329,j(n,da+60),22);r(g(aa,ba,ca),4129170786,j(n,da+4),5);r(g(aa,ba,ca),3225465664,j(n,da+24),9);r(g(aa,ba,ca),643717713,j(n,da+44),14);r(g(aa,ba,ca),3921069994,j(n,da),20);r(g(aa,ba,ca),3593408605,j(n,da+20),5);r(g(aa,ba,ca),38016083,j(n,da+40),9);r(g(aa,ba,ca),3634488961,j(n,da+60),14);r(g(aa,ba,ca),3889429448,j(n,da+16),20);r(g(aa,ba,ca),568446438,j(n,da+36),5);r(g(aa,ba,ca),3275163606,j(n,da+56),9);r(g(aa,ba,ca),4107603335,j(n,da+12),14);r(g(aa,ba,ca),1163531501,j(n,da+32),20);r(g(aa,ba,ca),2850285829,j(n,da+52),5);r(g(aa,ba,ca),4243563512,j(n,da+8),9);r(g(aa,ba,ca),1735328473,j(n,da+28),14);r(g(aa,ba,ca),2368359562,j(n,da+48),20);r(h(aa,ba,ca),4294588738,j(n,da+20),4);r(h(aa,ba,ca),2272392833,j(n,da+32),11);r(h(aa,ba,ca),1839030562,j(n,da+44),16);r(h(aa,ba,ca),4259657740,j(n,da+56),23);r(h(aa,ba,ca),2763975236,j(n,da+4),4);r(h(aa,ba,ca),1272893353,j(n,da+16),11);r(h(aa,ba,ca),4139469664,j(n,da+28),16);r(h(aa,ba,ca),3200236656,j(n,da+40),23);r(h(aa,ba,ca),681279174,j(n,da+52),4);r(h(aa,ba,ca),3936430074,j(n,da),11);r(h(aa,ba,ca),3572445317,j(n,da+12),16);r(h(aa,ba,ca),76029189,j(n,da+24),23);r(h(aa,ba,ca),3654602809,j(n,da+36),4);r(h(aa,ba,ca),3873151461,j(n,da+48),11);r(h(aa,ba,ca),530742520,j(n,da+60),16);r(h(aa,ba,ca),3299628645,j(n,da+8),23);r(i(aa,ba,ca),4096336452,j(n,da),6);r(i(aa,ba,ca),1126891415,j(n,da+28),10);r(i(aa,ba,ca),2878612391,j(n,da+56),15);r(i(aa,ba,ca),4237533241,j(n,da+20),21);r(i(aa,ba,ca),1700485571,j(n,da+48),6);r(i(aa,ba,ca),2399980690,j(n,da+12),10);r(i(aa,ba,ca),4293915773,j(n,da+40),15);r(i(aa,ba,ca),2240044497,j(n,da+4),21);r(i(aa,ba,ca),1873313359,j(n,da+32),6);r(i(aa,ba,ca),4264355552,j(n,da+60),10);r(i(aa,ba,ca),2734768916,j(n,da+24),15);r(i(aa,ba,ca),1309151649,j(n,da+52),21);r(i(aa,ba,ca),4149444226,j(n,da+16),6);r(i(aa,ba,ca),3174756917,j(n,da+44),10);r(i(aa,ba,ca),718787259,j(n,da+8),15);r(i(aa,ba,ca),3951481745,j(n,da+36),21);v=p(v,z);w=p(w,aa);x=p(x,ba);y=p(y,ca);}return l(y,x,w,v);}};
</script></body></html>
