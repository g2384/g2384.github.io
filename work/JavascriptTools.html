<!DOCTYPE html>
<html>
<head>
<title>Javascript Tools</title>
</head>
<style>span {
cursor:pointer;
margin-left:-5px;
text-align: center;
width: 25px;
font-size:10px;
display: inline-block;
border: 1px solid #838B8B;
line-height:200%
}
#color{
background-color:#fff;
position:fixed;
right:0px;
top:0px;
font-size:2em;
}
</style>
<script>
function rgb2hex(rgb) {
    rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    function hex(x) {
        return ("0" + parseInt(x).toString(16)).slice(-2);
    }
    return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
}
function dispC(x){
document.body.style.background=x.style.background;
document.getElementById('color').innerHTML=rgb2hex(x.style.background);
}
function holdC(x){
document.getElementById('holder').innerHTML=rgb2hex(x.style.background);
}
</script>

<script>
// code from http://www.somacon.com/p525.php
function CountWords()
{
	textInput = document.getElementById('txt');
	CountsPlaceholder = document.getElementById('holder');

	strChars = new String(textInput.value);
	var arrChars = [];
	var totalCount;

	// Loop through string and accumulate character counts
	var len = strChars.length;
	for(var i = 0; i < len; i++)
	{
		if(!arrChars[strChars[i]]) {
			arrChars[strChars[i]] = 1;
		} else {
			arrChars[strChars[i]] += 1;
		}
	}
	countChars = arrChars.count;

	// Delete the character counts from previous run
	if(CountsPlaceholder.hasChildNodes())
	{
    	while(CountsPlaceholder.childNodes.length >= 1)
	    {
    	    CountsPlaceholder.removeChild(CountsPlaceholder.firstChild);
	    }
	}
	
	// Sort the characters by code
	sortedChars = [];
	for(var i in arrChars)
	{
		sortedChars.push(zeroPad(i.charCodeAt(0), 5, '0'));
	}
	sortedChars.sort();

	// Print the character counts
	var len = sortedChars.length;
	for(i = 0; i < sortedChars.length; i++)
	{
		character = String.fromCharCode(sortedChars[i]);
		if(sortedChars[i] == 10) {
			character = 'LF'
		}
		if(sortedChars[i] == 9) {
			character = 'TAB'
		}
		strToPrint = 'Code: ' + zeroPad(sortedChars[i].replace(/^0+/,""), 5, " ");
		strToPrint += ' 0x' + parseInt(sortedChars[i].replace(/^0+/,"")).toString(16).toUpperCase();
		strToPrint += ' \'' + character + '\'';
		strToPrint += ' Count: ' + arrChars[String.fromCharCode(sortedChars[i])] + "\n";
		var txt = document.createTextNode(strToPrint);
		CountsPlaceholder.appendChild(txt);
	}

	// Print total character count
	CountsPlaceholder.appendChild(document.createTextNode('-----TOTAL CHARACTERS: ' + strChars.length + "\n"));
}
// n = number you want padded
// digits = length you want the final output

</script>
<script>
//Code from http://www.somacon.com/p568.php
var objCountsPlaceholder = null;
function CountLines()
{
	textInput = document.getElementById('txt');
	objCountsPlaceholder = document.getElementById('holder');
	
	// Index 0 is the count, 1 is the line
	sortByIndex = 0;
	if(document.getElementById('sortby_line').checked)
	{
		sortByIndex = 1;
	}

	inputString = new String(textInput.value);
	var arrLines = inputString.split("\n");
	var countLines = arrLines.length;
	var arrUniqueLines = [];

	// Loop through lines and accumulate counts
	for(var i = 0; i < countLines; i++)
	{
		// Ignore trailing new-line (if there is one)
		var currentLine = arrLines[i];
		if(currentLine.substr(currentLine.length - 2, 2) == "\r\n")
		{
			currentLine = currentLine.substr(0, currentLine.length - 2);
		}
		if(currentLine.substr(currentLine.length - 1, 1) == "\n" ||
			currentLine.substr(currentLine.length - 1, 1) == "\r")
		{
			currentLine = currentLine.substr(0, currentLine.length - 1);
		}
	
		// Count the lines
		if(!arrUniqueLines[currentLine]) {
			arrUniqueLines[currentLine] = 1;
		} else {
			arrUniqueLines[currentLine] += 1;
		}
	}

	// Delete the counts from previous run
	if(objCountsPlaceholder.hasChildNodes())
	{
    	while(objCountsPlaceholder.childNodes.length >= 1)
	    {
    	    objCountsPlaceholder.removeChild(objCountsPlaceholder.firstChild);
	    }
	}
	
	AppendLine("COUNT    | LINE");
	AppendLine("-----------------------------------------------------");
	
	// Sort by count
	var sortedLines = [];
	for(var i in arrUniqueLines)
	{
		sortedLines.push([arrUniqueLines[i], i]);
	}
	arrUniqueLines = null;
	// Reverse sort by count
	sortedLines.sort(function(a,b) {
		if(sortByIndex == 0)
		{
			return (b[0] - a[0] != 0 ? b[0] - a[0] : a[1].localeCompare(b[1]));
		}
		else
		{
			return (a[1].localeCompare(b[1]) != 0 ?a[1].localeCompare(b[1]) : b[0] - a[0]);
		}
	} );

	// Print the line counts
	for(var i in sortedLines)
	{
		strToPrint = '' + zeroPad(sortedLines[i][0], 8, " ");
		strToPrint += ' | ' + sortedLines[i][1] + '';
		AppendLine(strToPrint);
	}

	// Print total character count
	AppendLine("-----------------------------------------------------");
	AppendLine(zeroPad(countLines, 8, " ") + " | TOTAL LINES");
}
// n = number you want padded
// digits = length you want the final output
function zeroPad(n, digits, padChar) {
	n = n.toString();
	while (n.length < digits) {
		n = padChar + n;
	}
	return n;
}
function AppendLine(str)
{
	objCountsPlaceholder.appendChild(document.createTextNode(str + "\n"));
}
</script>
<script>
function GenerateTable(){
var e=document.getElementById("txt");
var str=e.value;
var line=str.split("\n");
console.log(line);
var l=line.length;
console.log(l);
var result="";
for(var i=0;i<l;i++){
var cell=line[i].split("\t");
console.log(cell);
var n=cell.length;
result+="<tr>";
for(var j=0;j<n;j++){
result=result+"<td>"+cell[j]+"</td>";
}
result+="</tr>";
}
e.value="<table>"+result+"</table>";
document.getElementById("holder").innerHTML=e.value;
}

function GenerateList(){
var str=document.getElementById("txt").value;
var arr=str.split("+");
var l=arr.length;
var k,result="";
k=arr[1].split("~");
for(var i=k[0];i<=k[1];i++){
result=result+arr[0]+i+arr[2]+"\n";
}
document.getElementById("holder").innerHTML=result;
}
function demo(x){
switch(x){
case 1:document.getElementById("txt").value="1	a\n2	b";
break;
case 2:document.getElementById("txt").value="No.+0~100+=";
break;
}
}

function colorpanel(){
var a=["#000000","#000033","#000066","#000099","#0000ff","#003366","#003399","#006600","#006699","#0066cc","#00dd00","#00ff00","#10845a","#111111","#123456","#173101","#222222","#331100","#333333","#333366","#336699","#363636","#374853","#3b5998","#444444","#454545","#4d4d4d","#511000","#555555","#56a83c","#654321","#660000","#666666","#6699cc","#777777","#7f7f7f","#808080","#888888","#906090","#918010","#990000","#999999","#9999cc","#99cccc","#99ccff","#a73111","#aaaaaa","#bbbbbb","#c0c0c0","#cc0000","#cccc99","#cccccc","#cccccc","#ccccff","#ccffff","#d4d4d4","#d6d6d6","#d9d9d9","#dddddd","#dedede","#e0e0e0","#e1e1e1","#e3e3e3","#e4e4e4","#e5e5e5","#e6e6e6","#e7e7e7","#e8e8e8","#e9e9e9","#eaeaea","#ebebeb","#ededed","#eeeeee","#efefef","#f0f0f0","#f1f1f1","#f2f2f2","#f2f7fc","#f3f3f3","#f4f4f4","#f5f5f5","#f6f6f6","#f7f7f7","#f8f8f8","#f9f9f9","#fafafa","#fcfcfc","#fefefe","#ff0000","#ff6600","#ff9900","#ffcccc","#ffff00","#ffffcc","#ffffff"];
var l=a.length;
for(var i=0;i<l;i++){
document.getElementById('colorpanel').innerHTML+=('<span onmouseover="dispC(this)" onclick="holdC(this)" style="background-color:'+a[i]+'">&nbsp;</span>');
}
}
</script>
<body onload="colorpanel()">
<textarea rows="10" style="width:100%;font-size:16px;" id="txt">1	a
2	b</textarea>

<input type="button" value="Generate Table" id="GenerateTable" onclick="GenerateTable()"><input type="button" value="Demo" onclick="demo(1)"><br>
<input type="button" value="Generate List" id="GenerateList" onclick="GenerateList()"><input type="button" value="Demo" onclick="demo(2)"> (format: [prefix]+[start]~[end]+[suffix])<br>
<input type="button" onclick="CountLines();" value="Count Duplicates in List">
sort by: 
<label for="sortby_count"><input type="radio" name="sortby" value="count" checked="checked" id="sortby_count"> Count</label>
<label for="sortby_line"><input type="radio" name="sortby" value="line" id="sortby_line"> Line</label> | (Use this to find duplicate lines, or to count the number of repeats.)<br>
<input type="button" onclick="CountWords();" value="Count Character Occurrences"> (Use this to display the frequency of each character and character code contained in the text)<br>
<a href="http://textmechanic.com/Count-Text.html">A more powerful text counter</a>
<pre id="holder"></pre>
<div id="color"></div>
<br><hr>
CSS Color Combinations: http://www.colorcombos.com/<br>
Popular 
<span style="background-color:#ebebeb;width:40px;" data-word="#ebebeb">Bkg</span>
<span style="background-color:#545454;width:40px;" data-word="#545454">Text</span>
<span style="background-color:#21769B;width:40px;" data-word="#21769B">Link</span><br>
<div id="colorpanel"></div>
</body>
</html>
